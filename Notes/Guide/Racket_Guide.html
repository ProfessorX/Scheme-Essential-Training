<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Racket_Guide</title>
<!-- 2014-10-18 Sat 16:04 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Abraham Xiao" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Racket_Guide</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. The Racket Guide</a>
<ul>
<li><a href="#sec-1-1">1.1. Racket Essentials</a></li>
<li><a href="#sec-1-2">1.2. Built-In Datatypes</a></li>
<li><a href="#sec-1-3">1.3. Expressions and Definitions</a></li>
<li><a href="#sec-1-4">1.4. Programmer-Defined Datatypes</a></li>
<li><a href="#sec-1-5">1.5. Contracts</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> The Racket Guide</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> Racket Essentials</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>Under the hood, a function definition is really the same as a
non-function definition, and a function name does not have to be
used in a function call. A function is just another kind of
value, though the printed form is necessarily less complete than
the printed form of a number or string.
</li>
<li>A function definition can include multiple expressions for the
function’s body. In that case, only the value of the last
expression is returned when the function is called.
</li>
<li>For function calls, the first &lt;expr&gt; can be anything that
evaluates to a function. For example, it can be a conditional
expression.
</li>
<li>In Racket, you can use a lambda expression to produce a function
directly. The lambda form is followed by identifiers for the
function’s arguments, and then the function’s body expressions.
</li>
<li>The body of a Racket iteration is packaged into a function to be
applied to each element, so the lambda form becomes particularly
handy in combination with iteration functions.
</li>
<li>The cons function actually accepts any two values, not just a
list for the second argument. When the second argument is not
empty and not itself produced by cons, the result prints in a
special way. The two values joined with cons are printed between
parentheses, but with a dot (i.e., a period surrounded by
whitespace) in between
</li>
<li>In the same way that parenthesized output should not be confused
with expressions, a printed symbol should not be confused with
an identifier. In particular, the symbol (quote map) has nothing
to do with the map identifier or the predefined function that is
bound to map, except that the symbol and the identifier happen
to be made up of the same letters.
</li>
<li>The syntax of Racket is not defined directly in terms of
character streams. Instead, the syntax is determined by two
layers:
<ul class="org-ul">
<li>a reader layer, which turns a sequence of characters into
lists, symbols, and other constants
</li>
<li>an expander layer, which processes the lists, symbols, and
other constants to parse them as an expression.
</li>
</ul>
</li>
</ul>
</div>
</div>



<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> Built-In Datatypes</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>Racket has two distinguished constants to represent boolean
values: #t for true and #f for false. Uppercase #T and #F are
parsed as the same values, but the lowercase forms are
preferred.
</li>
<li>Inexact numbers print with a decimal point or exponent specifier,
and exact numbers print as integers and fractions. The same
conventions apply for reading number constants, but #e or #i can
prefix a number to force its parsing as an exact or inexact
number. The prefixes #b, #o, and #x specify binary, octal, and
hexadecimal interpretation of digits.
</li>
<li>The = procedure compares numbers for numerical equality. If it is
given both inexact and exact numbers to compare, it essentially
converts the inexact numbers to exact before com- paring. The
eqv? (and therefore equal?) procedure, in contrast, compares
numbers considering both exactness and numerical equality.
</li>
<li>Beware of comparisons involving inexact numbers, which by their
nature can have surprising behavior. Even apparently simple
inexact numbers may not mean what you think they mean; for
example, while a base-2 IEEE floating-point number can represent
1/2 exactly, it can only approximate 1/10.
</li>
<li>A printable character normally prints as #\ followed by the
represented character. An un- printable character normally prints
as #\u followed by the scalar value as hexadecimal num- ber. A
few characters are printed specially; for example, the space and
linefeed characters print as #\space and #\newline,
respectively.
</li>
<li>A string can be mutable or immutable; strings written directly as
expressions are immutable, but most other strings are
mutable. The make-string procedure creates a mutable string given
a length and optional fill character. The string-ref procedure
accesses a character from a string (with 0-based indexing); the
string-set! procedure changes a character in a mutable string.
</li>
<li>For any sequence of characters, exactly one corresponding symbol
is interned; calling the string-&gt;symbol procedure, or reading a
syntactic identifier, produces an interned symbol. Since interned
symbols can be cheaply compared with eq? (and thus eqv? or
equal?), they serve as a convenient values to use for tags and
enumerations.
</li>
<li>Actually, # is disallowed only at the beginning of a symbol, and
then only if not followed by %; otherwise, # is allowed,
too. Also, . by itself is not a symbol.
</li>
<li>Keywords are intended for use (unquoted) as special markers in
argument lists and in certain syntactic forms. For run-time flags
and enumerations, use symbols instead of keywords.
</li>
<li>A pair joins two arbitrary values. The cons procedure constructs
pairs, and the car and cdr procedures extract the first and
second elements of the pair, respectively. The pair? predicate
recognizes pairs.
</li>
<li>A list is a combination of pairs that creates a linked list. More
precisely, a list is either the empty list null, or it is a pair
whose first element is a list element and whose second element is
a list. The list? predicate recognizes lists. The null? predicate
recognizes the empty list. (<b>Fuck this recursive definition)</b>
</li>
<li>Pairs are immutable (contrary to Lisp tradition), and pair? and
list? recognize immutable pairs and lists, only. The mcons
procedure creates a mutable pair, which works with set- mcar! and
set-mcdr!, as well as mcar and mcdr. A mutable pair prints using
mcons, while write and display print mutable pairs with { and }.
</li>
<li>When allocating extra lists seems too expensive, consider using
looping forms like for/fold, which recognize vectors as well as
lists.
</li>
<li>The hash, hasheqv, and hasheq functions create immutable hash
tables from an initial set of keys and values, in which each
value is provided as an argument after its key. Immutable hash
tables can be extended with hash-set, which produces a new
immutable hash table in constant time.
</li>
<li>A literal immutable hash table can be written as an expression by
using #hash (for an equal?-based table), #hasheqv (for an
eqv?-based table), or #hasheq (for an eq?-based table). A
parenthesized sequence must immediately follow #hash, #hasheq, or
#hasheqv, where each element is a dotted key–value pair.
</li>
<li>Beware that even a weak hash table retains its values strongly,
as long as the corresponding key is accessible. This creates a
catch-22 dependency when a value refers back to its key, so that
the mapping is retained permanently. To break the cycle, map the
key to an ephemeron that pairs the value with its key (in
addition to the implicit pairing of the hash table).
</li>
<li></li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> Expressions and Definitions</h3>
<div class="outline-text-3" id="text-1-3">
<ul class="org-ul">
<li>Forms like define, lambda, and let associate a meaning with one
or more identifiers; that is, they bind identifiers. The part of
the program for which the binding applies is the scope of the
binding. The set of bindings in effect for a given expression is
the expression’s environment.
</li>
<li>As a convenience, the apply function accepts additional arguments
between the function and the list. The additional arguments are
effectively consed onto the argument list.
</li>
<li>Instead of just an identifier, an argument (other than a rest
argument) in a lambda form can be specified with an identifier
and a default value.
</li>
<li>The function supplied to make-keyword-procedure receives keyword
arguments through parallel lists in the first two (by-position)
arguments, and then all by-position arguments from an
application as the remaining by-position arguments.
</li>
<li>In a sense, make-add-suffix is a function takes two arguments,
but it takes them one at a time. A function that takes some of
its arguments and returns a function to consume more is sometimes
called a curried function.
</li>
<li>Internal definitions in a particular body sequence are mutually
recursive; that is, any definition can refer to any other
definition—as long as the reference isn’t actually evaluated
before its definition takes place. If a definition is referenced
too early, an error occurs.
</li>
<li>Although using set! is sometimes appropriate, Racket style
generally discourages the use of set!. 
<ul class="org-ul">
<li>As in any modern language, assigning to a shared identifier is
no substitute for passing an argument to a procedure or
getting its result.
</li>
<li>A sequence of assignments to a local variable is far inferior
to nested bindings.
</li>
<li>Using assignment to accumulate results from an iteration is bad
style. Accumulating through a loop argument is better.
</li>
<li>For cases where stateful objects are necessary or appropriate,
then implementing the object’s state with set! is fine.
</li>
</ul>
</li>
<li>All else being equal, a program that uses no assignments or
mutation is always preferable to one that uses assignments or
mutation. While side effects are to be avoided, however, they
should be used if the resulting code is significantly more
readable or if it implements a significantly better algorithm.
</li>
<li>The quote form is rarely used for a datum that is a boolean,
number, or string by itself, since the printed forms of those
values can already be used as constants. The quote form is more
typically used for symbols and lists, which have other meanings
(identifiers, function calls, etc.) when not quoted.
</li>
<li>If a quasiquote form appears within an enclosing quasiquote form,
then the inner quasiquote effectively cancels one layer of
unquote and unquote-splicing forms, so that a second unquote or
unquote-splicing is needed.
</li>
<li>In a parameterize form, each parameter-expr must produce a
parameter. During the evaluation of the bodys, each specified
parameter is given the result of the corresponding value-expr
. When control leaves the parameterize form—either through a
normal re- turn, an exception, or some other escape—the parameter
reverts to its earlier value.
</li>
<li>Parameters, however, offer several crucial advantages over set!:
<ul class="org-ul">
<li>The parameterize form helps automatically reset the value of a
parameter when control escapes due to an exception. Adding
exception handlers and other forms to rewind a set! is
relatively tedious.
</li>
<li>Parameters work nicely with tail calls (see §2.3.3 “Tail
Recursion”). The last body in a parameterize form is in tail
position with respect to the parameterize form.
</li>
<li>Parameters work properly with threads (see §11.1
“Threads”). The parameterize form adjusts the value of a
parameter only for evaluation in the current thread, which
avoids race conditions with other threads. (The reference is
the good old <b>Racket Guide</b>.)
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> Programmer-Defined Datatypes</h3>
<div class="outline-text-3" id="text-1-4">
<ul class="org-ul">
<li>A struct form places no constraints on the kinds of values that
can appear for fields in an instance of the structure type. For
example, (posn "apple" #f) produces an instance of posn, even
though "apple" and #f are not valid coordinates for the obvious
uses of posn instances. Enforcing constraints on field values,
such as requiring them to be numbers, is normally the job of a
contract, as discussed later in §7 “Contracts”.
</li>
<li>An instance of a transparent structure type prints like a call to
the constructor, so that it shows the structures field values. A
transparent structure type also allows reflective operations,
such as struct? and struct-info, to be used on its instances (see
§15 “Reflection and Dynamic Evaluation”).
</li>
<li>Structure types are opaque by default, because opaque structure
instances provide more encapsulation guarantees. That is, a
library can use an opaque structure to encapsulate data, and
clients of the library cannot manipulate the data in the
structure except as allowed by the library.
</li>
<li>Overall, the different options for structure types offer a
spectrum of possibilities from more abstract to more convenient:
<ul class="org-ul">
<li>Opaque (the default) : Instances cannot be inspected or forged
without access to the structure-type declaration.
</li>
<li>Transparent : Anyone can inspect or create an instance without
access to the structure- type declaration, which means that the
value printer can show the content of an in- stance.
</li>
<li>Prefab : Anyone can inspect or create an instance at any time,
without prior access to a structure-type declaration or an
example instance.
</li>
</ul>
</li>
<li>The Racket installation’s "collects" directory, however, is only
one place that require looks for collection directories. Other
places include the user-specific directory reported by
(find-user-collects-dir) and directories configured through the
PLTCOLLECTS search path. Finally, and most typically, collections
are found through installed packages.
</li>
<li>Unless otherwise specified, a module that is documented as a
“language” using the #lang notation will expand to module in the
same way as #lang racket. The documented language name can be
used directly with module or require, too.
</li>
<li>Consequently, re-declaration of a module is not generally
allowed. For file-based modules, simply changing the file does
not lead to a re-declaration in any case, because file-based
modules are loaded on demand, and the previously loaded
declarations satisfy future re- quests. It is possible to use
Racket’s reflection support to re-declare a module, however, and
non-file modules can be re-declared in the REPL; in such cases,
the re-declaration may fail if it involves the re-definition of a
previously constant binding.
</li>
<li></li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> Contracts</h3>
<div class="outline-text-3" id="text-1-5">
<ul class="org-ul">
<li>Life is a bitch.
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Abraham Xiao</p>
<p class="date">Created: 2014-10-18 Sat 16:04</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.3.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
